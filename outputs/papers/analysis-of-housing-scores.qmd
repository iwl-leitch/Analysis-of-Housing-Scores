---
title: "Tutorial 2"
author: "Iz Leitch"
format: pdf
---

## Introduction

This is the paper about rentsafe toronto housing scores

## Running Code

```{r}

```
```{r}
data <- 
  read.csv(here::here("inputs/data/raw_data.csv"))

options(repr.plot.width = 10, repr.plot.height =2)

data <- 
  data |>
  mutate(score = as.numeric(SCORE),
         year_eval = as.numeric(YEAR_EVALUATED))

mean_ward <- 
  data |>
  group_by(WARD) |>
  summarise(mean_score = mean(score))

mean_ward


mean_year_eval <- 
  data |>
  group_by(year_eval) |>
  summarise(mean_score = mean(score))

mean_year_eval
```

```{r}


filter()
mean(score)


mean_data

# The Base of the Key Offenders
data|> ggplot(aes
              (x=c(year_built<-as.numeric(YEAR_BUILT)), 
               y = c((score<-as.numeric(SCORE))/100), 
               color = PROPERTY_TYPE)) + 
  scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  scale_x_continuous(breaks = c(1800, 1850, 1900, 1950, 2000, 2050)) +
  theme(legend.key.size = unit(0.1, "cm"))+
  theme(legend.position = "bottom") +
  geom_point() 


data|> ggplot(aes(x=c(ward<-as.numeric(WARD)), y = c((score<-as.numeric(SCORE))/100), color = PROPERTY_TYPE)) + scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  geom_point()

data|> filter(PROPERTY_TYPE== "SOCIAL HOUSING")|>ggplot(aes(x=c(ward<-as.numeric(WARD)),y = score, fill = PROPERTY_TYPE)) +
  geom_line(stat ="identity")

# Key Offender Below
data|> 
  ggplot(aes(x=year_eval, y = mean_year_eval/100)) + scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  scale_x_continuous(breaks = c(1800, 1850, 1900, 1950, 2000, 2050)) +
  geom_line()


data|> 
  ggplot(aes(x=WARD, y = mean_ward/100, color = WARD)) + scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  geom_point()

#Functional Key Offender Below
data|> 
  ggplot(aes(x= c(year_eval<-as.numeric(YEAR_EVALUATED)), y = c((score<-as.numeric(SCORE))/100), color = WARD)) + 
  scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  scale_x_continuous(breaks = c(201 7, 2018, 2019, 2020, 2021)) +
  geom_point()


data|> 
  ggplot(aes(x= c(year_eval<-as.numeric(YEAR_EVALUATED)), y = c((score<-as.numeric(SCORE))/100), color = WARD)) + 
  #scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  #scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021)) +
  geom_line()

data|>
  filter(WARD == "19") |>
  ggplot(aes(x=c(year_built<-as.numeric(YEAR_BUILT)), y = c((score<-as.numeric(SCORE))/100), color = PROPERTY_TYPE)) + scale_y_continuous(labels = percent_format(), limits=c(0,1)) +
  scale_x_continuous(breaks = c(1800, 1850, 1900, 1950, 2000, 2050)) +
  geom_point()

data|>
  group_by(PROPERTY_TYPE)|>
  ggplot(aes(x = WARD, y = mean_data, color = PROPERTY_TYPE))+
  geom_line()+ theme_minimal()

  
group_by()

mean_data



data

```


## References

